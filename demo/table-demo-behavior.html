<script>

	/*global Cosmoz*/

	function getRandomInt(min, max) {
		return Math.floor(Math.random() * (max - min + 1)) + min;
	}

	function getRandomDateJSON() {
		return '2015-' + leftPad(getRandomInt(1, 12), 2, '0') + '-' + leftPad(getRandomInt(1, 28), 2, '0');
	}

	function getRandomDate() {
		return new Date(2015, getRandomInt(1, 12), getRandomInt(1, 28));
	}

	function leftPad(str, len, ch) {
		str = String(str);
		var i = -1;
		if (!ch && ch !== 0) ch = ' ';
		len = len - str.length;
		while (++i < len) {
			str = ch + str;
		}
		return str;
	}


	Cosmoz = Cosmoz || {};

	Cosmoz.TableDemoBehavior = {
		generateTableDemoData: function (min, max, maxRandomString) {
			var
				data = [],
				groupsCount = getRandomInt(min, max),
				i,
				j,
				n = 0,
				itemsCount,
				group;

			for (i = 0; i < groupsCount; i += 1) {
				group =  'Group ' + i;
				itemsCount = i * 2  + 1;
				for (j = 0; j < itemsCount; j+= 1) {
					data.push({
						id: n,
						name: group + ' item ' + j,
						value: 0,
						sub: {
							subProp: 'sub prop ' + (i * 10 + j)
						},
						randomString: 'Random string ' + getRandomInt(1, maxRandomString),
						randomString2: 'Random string 2 ' + getRandomInt(1, maxRandomString),
						randomString3: 'Random string 3 ' + getRandomInt(1, maxRandomString),
						randomString4: 'Random string 4 ' + getRandomInt(1, maxRandomString),
						date: getRandomDate(),
						dateJSON: getRandomDateJSON(),
						amount: {
							amount: getRandomInt(10, 100),
							currency: 'SEK'
						},
						group: group

					});
					n += 1;
				}
			}
			console.log('generated ' + n + ' data items');
			return data;
		}

	};
</script>