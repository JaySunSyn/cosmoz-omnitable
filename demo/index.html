<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Cosmoz Omnitable</title>

	<script src="../../webcomponentsjs/webcomponents-lite.js"></script>
	<link rel="import" href="../cosmoz-omnitable.html">
	<link rel="import" href="../../iron-flex-layout/iron-flex-layout.html"/>
	<link rel="import" href="../../iron-flex-layout/classes/iron-flex-layout.html"/>

</head>
<body>
	<template is="dom-bind" id="t">
		<cosmoz-i18next interpolation-prefix="$" interpolation-suffix="$" id="translations" translations="{{ translations }}"></cosmoz-i18next>
		<div class="layout vertical fit">
			<h1>Omnitable sample</h1>
			<cosmoz-omnitable data="{{ data }}" class="flex" group-on="group">
				<header id="id">Id</header>
				<header id="name">Name</header>
				<header id="date" type="date">Date</header>
				<header id="group">Group</header>
				<!-- <header id="amount">{{ _('Amount') }}</header> -->
			</cosmoz-omnitable>
		</div>
	</template>
	<script type="text/javascript">
/*global document, window */
(function () {
	"use strict";
	window.addEventListener('WebComponentsReady', function () {
		var
			data = [],
			i,
			j,
			n = 0,
			itemsCount,
			group,
			t = document.getElementById('t');

		for (i = 0; i < 30; i += 1) {
			group =  'Group ' + i;
			itemsCount = i * 2  + 1;
			for (j = 0; j < itemsCount; j+= 1) {
				data.push({
					id: n,
					name: group + ' item ' + j,
					value: 0,
					date: '2015-' + (i % 12 + 1) + '-' + (j % 28 + 1),
					group: group

				});
				n += 1;
			}
		}

		console.log('Generated ' + n + ' items for Omnitable');

		t.translations = {
			'Sort on:': 'Sort on'
		};
		t.data = data; //JSON.parse(tableData);
	});
}());
	</script>
</body>
</html>